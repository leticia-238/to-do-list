import{buttons}from"./modules/buttons.mjs";import{saveData,getData}from"./modules/saveTodoList.mjs";const tasks=document.querySelector(".tasks"),buttonAddNewTask=document.querySelector(".add"),inputTextTask=document.querySelector("#new-task"),enterKeyEvent=(a,b)=>{a.addEventListener("keyup",a=>{"Enter"===a.code&&b()})},taskElement=(a,b)=>{const c=document.createElement(a);return c.className=b,c},createButton=({buttonClassName:a,iconClassName:b,action:c})=>{const d=taskElement("button",a),e=taskElement("i",b);return d.addEventListener("click",c),d.appendChild(e),d},createInput=a=>{const b=taskElement("input","text-task");return b.value=a,b.readOnly=!0,enterKeyEvent(b,()=>{b.parentElement.classList.remove("edited"),b.readOnly=!0,saveData()}),b},createTask=a=>{const b=taskElement("div","task field"),[c,...d]=buttons;b.appendChild(createButton(c)),b.appendChild(createInput(a)),d.forEach(a=>{b.appendChild(createButton(a))}),tasks.appendChild(b)},addNewTask=()=>{inputTextTask.value.trim().length&&(createTask(inputTextTask.value),saveData())};buttonAddNewTask.addEventListener("click",addNewTask),enterKeyEvent(inputTextTask,addNewTask),window.onload=()=>{getData(createTask)};